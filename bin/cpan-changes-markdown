#!perl

## no critic
eval 'exec echo Please execute this code with perl'    # Guard
  if 0;
## use critic

use 5.008;                                             # utf8;
use strict;
use warnings;
use utf8;

## no critic (NamingConventions::Capitalization)
package main;

# PODNAME: cpan-changes-markdown

# ABSTRACT: A simple incarnation of CPAN::Changes to Markdown

# AUTHORITY

use Carp qw(croak);

my ($filename) = @ARGV;

if ( not $filename ) {
  croak "$0 Changes > Changes.mkdn";
}

=head1 SYNOPSIS

  cpan-changes-markdown Changes > Changes.mkdn

=cut

use CPAN::Changes::Markdown;
my $changes = CPAN::Changes::Markdown->load_utf8( $filename );
binmode *STDOUT, ':encoding(UTF-8)';
print $changes->serialize or croak q[Can't write to STDOUT];

exit 0;

